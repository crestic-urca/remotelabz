{% import "sidebar.html.twig" as sidebar %}

{% block sidebar %}
    {% set category = category|default('dashboard') %}
    <nav class="sidebar sidebar-offcanvas {% if app.request.cookies.get('sidebar_collapsed') == 'true' %}sidebar-collapsed{%endif%}" id="sidebar">
        {% block sidebar_header %}
            <div class="context-header">
                <a href="{{ path('dashboard_show_group', {slug: group.path}) }}" title="{{ group.name }}">
                    <div class="s40 mr-2 d-flex">
                        <div class="avatar identicon bg-{{ group.id % 8 + 1 }} s40 rounded-lg">
                            {% if group.pictureFilename is defined and group.pictureFilename %}
                                image
                            {% else %}
                                {{- group.name|firstLetter|upper -}}
                            {% endif %}
                        </div>
                    </div>
                    <div class="sidebar-context-title ml-2">{{ group.name }}</div>
                </a>
            </div>
        {% endblock %}

        <ul class="nav">
            {{ sidebar.link("Overview", 'dashboard_show_group', {slug: group.path}, 'home', 'dashboard_show_group', _context) }}
            {{ sidebar.link("Members", 'dashboard_group_members', {slug: group.path}, 'group', 'dashboard_group_members', _context) }}

            <div class="nav-item">
            <a class="toggle-sidebar nav-link" role="button" title="Toggle sidebar" type="button">
                <span class="toggle-sidebar-hide">{{ svg('angle-double-left') }}Collapse sidebar</span>
                <span class="toggle-sidebar-show">{{ svg('angle-double-right') }}</span>
            </a>
            </div>
        </ul>
    </nav>
{% endblock %}