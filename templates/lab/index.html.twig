{% extends 'dashboard.base.html.twig' %}

{% block breadcrumbs %}
    {%- set breadcrumbs = breadcrumbs|merge({ 'Labs': path('labs') }) -%}
    {{ parent() }}
{% endblock %}

{% block wrapper %}
    <div class="top-panel">
            <div class="quick-actions">
                {% if is_granted('ROLE_ADMINISTRATOR') %}
                    <a class="btn btn-success" role="button" href="{{
                    path('new_lab') }}">{{ 'New Lab'|trans }}</a>
                {% endif %}
            </div>
        <ul class="nav-links nav nav-tabs">
            <li class="active"><a href="#"><span>Started</span> <span class="badge badge-pill">0</span></a></li>
            <li><a href="#"><span>Stopped</span> <span class="badge badge-pill">0</span></a></li>
            <li><a href="#"><span>All</span> <span class="badge badge-pill">0</span></a></li>
        </ul>
    </div>
    <div class="search-panel">
        <form action="{{ path('labs') }}" method="GET">
            <input type="search" class="form-control input-sm" name="search"
            placeholder="Search by name"
            spellcheck="false" value="{{ search|default('') }}" type="search">
        </form>
    </div>
    <div class="labs-panel">
    {% for lab in labs %}
        <div class="wrapper d-flex align-items-center p-3 {% if not loop.last %}border-bottom{% endif %} lab-item">
            <a href="{{ path('show_lab', {'id': lab.id}) }}" class="lab-item-name">
                {{- lab.name -}}
            </a>
        </div>
    {% endfor %} 
    </div>
    
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {# {{ encore_entry_script_tags('lab') }} #}
{% endblock %}